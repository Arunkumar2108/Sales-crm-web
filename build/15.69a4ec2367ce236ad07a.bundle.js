(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{493:function(e,a,t){"use strict";t.d(a,"b",(function(){return s})),t.d(a,"a",(function(){return u})),t.d(a,"e",(function(){return m})),t.d(a,"g",(function(){return p})),t.d(a,"f",(function(){return d})),t.d(a,"c",(function(){return b})),t.d(a,"d",(function(){return f}));var n=t(56),r=t.n(n),l=t(1),o=t(78),c=t(55),i="https://hichy-api.hnhlabs.technology",s=function(e){return function(a,t){a({type:l.p}),r.a.post("".concat(i,"/company"),e,Object(c.a)(t)).then((function(e){a({type:l.q,payload:e.data}),a(Object(o.b)("Company created successfully",200,"success"))})).catch((function(e){a({type:l.o,payload:e}),a(Object(o.b)(e.response.data.msg,e.response.status,"error"))}))}},u=function(e){return function(a){a({type:l.s}),r.a.post("".concat(i,"/company/create/companyUser"),e).then((function(e){a({type:l.t,payload:e.data}),a(Object(o.b)("User created successfully",200,"success",2e3,"top-right"))})).catch((function(e){a({type:l.r,payload:e}),400===e.response.status&&a(Object(o.b)(e.response.data.message,e.response.status,"error"))}))}},m=function(){return function(e){e({type:l.Ib}),r.a.get("".concat(i,"/company")).then((function(a){e({type:l.Jb,payload:a.data})})).catch((function(a){e({type:l.Hb,payload:a}),e(Object(o.b)("An error occured",400,"error"))}))}},p=function(e){return function(a,t){a({type:l.Ib}),r.a.get("".concat(i,"/company/orgCompany/").concat(e||"all"),Object(c.a)(t)).then((function(e){a({type:l.Jb,payload:e.data})})).catch((function(e){a({type:l.Hb,payload:e}),a(Object(o.b)("An error occured",400,"error"))}))}},d=function(e){return function(a){a({type:l.Kb}),r.a.get("".concat(i,"/company/list/companyUsers/").concat(e||"all")).then((function(e){a({type:l.Mb,payload:e.data})})).catch((function(e){a({type:l.Lb,payload:e}),400===e.response.status&&a(Object(o.b)(e.response.data.error,e.response.status,"error"))}))}},b=function(e){return function(a){a({type:l.Z}),r.a.delete("".concat(i,"/company/").concat(e)).then((function(t){a({type:l.ab,payload:e})})).catch((function(e){a({type:l.Y,payload:e}),a(Object(o.b)(e.response.data.msg,e.response.status,"error"))}))}},f=function(e){return function(a){a({type:l.cb}),r.a.delete("".concat(i,"/company/user/").concat(e)).then((function(t){a({type:l.db,payload:e})})).catch((function(e){a({type:l.bb,payload:e}),a(Object(o.b)(e.response.data.message,e.response.status,"error"))}))}}},635:function(e,a,t){"use strict";var n=t(0),r=t(202);a.a=Object(r.a)(n.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},636:function(e,a,t){"use strict";var n=t(2),r=t(7),l=t(8),o=t.n(l),c=t(0),i=t.n(c),s=t(12),u=["bsPrefix","className","noGutters","as"],m=["xl","lg","md","sm","xs"],p=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,c=e.noGutters,p=e.as,d=void 0===p?"div":p,b=Object(r.a)(e,u),f=Object(s.a)(t,"row"),y=f+"-cols",h=[];return m.forEach((function(e){var a,t=b[e];delete b[e];var n="xs"!==e?"-"+e:"";null!=(a=null!=t&&"object"==typeof t?t.cols:t)&&h.push(""+y+n+"-"+a)})),i.a.createElement(d,Object(n.a)({ref:a},b,{className:o.a.apply(void 0,[l,f,c&&"no-gutters"].concat(h))}))}));p.displayName="Row",p.defaultProps={noGutters:!1},a.a=p},638:function(e,a,t){"use strict";var n=t(2),r=t(7),l=t(8),o=t.n(l),c=t(0),i=t.n(c),s=t(12),u=["bsPrefix","className","as"],m=["xl","lg","md","sm","xs"],p=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,c=e.as,p=void 0===c?"div":c,d=Object(r.a)(e,u),b=Object(s.a)(t,"col"),f=[],y=[];return m.forEach((function(e){var a,t,n,r=d[e];if(delete d[e],"object"==typeof r&&null!=r){var l=r.span;a=void 0===l||l,t=r.offset,n=r.order}else a=r;var o="xs"!==e?"-"+e:"";a&&f.push(!0===a?""+b+o:""+b+o+"-"+a),null!=n&&y.push("order"+o+"-"+n),null!=t&&y.push("offset"+o+"-"+t)})),f.length||f.push(b),i.a.createElement(p,Object(n.a)({},d,{ref:a,className:o.a.apply(void 0,[l].concat(f,y))}))}));p.displayName="Col",a.a=p},712:function(e){e.exports=JSON.parse('{"data":[{"label":"Alaska Standard Time(GMT-9)","value":"Alaska Standard Time(GMT-9)"},{"label":"Alaska Daylight Time(GMT-8)","value":"Alaska Daylight Time(GMT-8)"},{"label":"Aleutian-Hawaii (GMT-10)","value":"Aleutian-Hawaii (GMT-10)"},{"label":"Atlantic Standard Time (GMT-4)","value":"Atlantic Standard Time (GMT-4)"},{"label":"Atlantic Daylight Time (GMT-3)","value":"Atlantic Daylight Time (GMT-3)"},{"label":"Azores (GMT-1)","value":"Azores (GMT-1)"},{"label":"Baku (GMT +4)","value":"Baku (GMT +4)"},{"label":"Bangkok (GMT +7)","value":"Bangkok (GMT +7)"},{"label":"Brazilia (GMT-3)","value":"Brazilia (GMT-3)"},{"label":"Central Standard Time (GMT-6)","value":"Central Standard Time (GMT-6)"},{"label":"Central Daylight Time (GMT-5)","value":"Central Daylight Time (GMT-5)"},{"label":"Dhakar (GMT +6)","value":"Dhakar (GMT +6)"},{"label":"Eastern Standard Time (GMT-5)","value":"Eastern Standard Time (GMT-5)"},{"label":"Eniwetok (GMT-12)","value":"Eniwetok (GMT-12)"},{"label":"Fiji (GMT +12)","value":"Fiji (GMT +12)"},{"label":"Greenwich Mean Time (GMT)","value":"Greenwich Mean Time (GMT)"},{"label":"Hawaii-Aleutian (GMT-10)","value":"Hawaii-Aleutian (GMT-10)"},{"label":"Hong Kong (GMT +8)","value":"Hong Kong (GMT +8)"},{"label":"Israel (GMT +2)","value":"Israel (GMT +2)"},{"label":"London (GMT)","value":"London (GMT)"},{"label":"Magadan (GMT +11)","value":"Magadan (GMT +11)"},{"label":"Mid-Atlantic (GMT-2)","value":"Mid-Atlantic (GMT-2)"},{"label":"Moscow (GMT +3)","value":"Moscow (GMT +3)"},{"label":"Mountain Standard Time (GMT-7)","value":"Mountain Standard Time (GMT-7)"},{"label":"Mountain Daylight Time (GMT-6)","value":"Mountain Daylight Time (GMT-6)"},{"label":"New Delhi (GMT +5)","value":"New Delhi (GMT +5)"},{"label":"New York (GMT -5 EST)","value":"New York (GMT -5 EST)"},{"label":"Pacific Standard Time (GMT-8)","value":"Pacific Standard Time (GMT-8)"},{"label":"Pacific Daylight Time (GMT-7)","value":"Pacific Daylight Time (GMT-7)"},{"label":"Rome (GMT +1)","value":"Rome (GMT +1)"},{"label":"Samoa (GMT-11)","value":"Samoa (GMT-11)"},{"label":"San Francisco (GMT -8 PST)","value":"San Francisco (GMT -8 PST)"},{"label":"Sydney (GMT +10)","value":"Sydney (GMT +10)"},{"label":"Tokyo (GMT +9)","value":"Tokyo (GMT +9)"},{"label":"Wellington (GMT +12)","value":"Wellington (GMT +12)"}]}')},713:function(e){e.exports=JSON.parse('{"data":[{"label":"Admin","value":"Admin"},{"label":"Customer","value":"Customer"},{"label":"Company","value":"Company"},{"label":"Organization","value":"Organization"}]}')},741:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(41),o=t(127),c=t(149),i=t(726),s=t(725),u=t(636),m=t(638),p=t(629),d=t(6),b=t.n(d),f=function(e){var a={};return e.name&&""!==e.name.trim()||(a.name="Required"),e.title&&""!==e.title.trim()||(a.title="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",e.phone&&""!==e.phone.trim()||(a.phone="Required"),e.timeZone||(a.timeZone="Required"),e.company||(a.company="Required"),e.userType||(a.userType="Required"),e.password&&""!==e.password.trim()||(a.password="Required"),e.password&&""!==e.password.trim()||(a.password="Required"),e.cpassword&&""!==e.cpassword.trim()?e.cpassword!==e.password&&(a.cpassword="Passwords donot match"):a.cpassword="Required",a},y=t(712),h=t(713),v=t(493);function T(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?T(Object(t),!0).forEach((function(a){M(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function M(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function E(){return(E=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var G=function(e){var a=e.input,t=e.label,n=e.type,l=e.placeholder,o=e.meta,c=o.touched,i=o.error,s=o.warning;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},t),r.a.createElement("div",{className:"input-holder"},r.a.createElement("input",E({className:"input-field"},a,{placeholder:l,type:n})),c&&(i&&r.a.createElement("span",{className:"text-danger"},i)||s&&r.a.createElement("span",{className:"text-warning"},s))))},w=function(e){var a=e.input,t=e.options,n=e.label,l=e.disabled,o=e.meta,c=o.touched,i=o.error,s=o.warning;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"}," ",n," "),r.a.createElement(p.a,E({},a,{onChange:function(e){return a.onChange(e)},isDisabled:l,onBlur:function(){return a.onBlur(a.value)},options:t})),c&&(i&&r.a.createElement("span",{className:"text-danger"},i)||s&&r.a.createElement("span",null,s)))};function O(e){var a=e.companyList.map((function(e){return{label:e.name,value:e._id}})),t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t((function(a){var t=e.createCompanyuser,n=e.setModal;t(g(g({},a),{},{timeZone:a.timeZone.label,userType:a.userType.label,company:a.company.value})),n(!1)}))},r.a.createElement("div",{className:"form--body"},r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"fullName",label:"Full Name",type:"text",placeholder:"Full Name",component:G})),r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"email",label:"Email",type:"text",placeholder:"Email",component:G}))),r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"mobile",label:"Mobile",type:"text",placeholder:"Mobile",component:G})),r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"phone",label:"Phone",type:"text",placeholder:"Phone",component:G}))),r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"title",label:"Title",type:"text",placeholder:"Enter Title",component:G})),r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"userType",label:"User Type",disabled:!0,component:w,className:"custom-selectbox",options:h.data}))),r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"timeZone",label:"Timezone",component:w,className:"custom-selectbox",options:y.data})),r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"company",label:"Company",component:w,className:"custom-selectbox",options:a}))),r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"password",label:"Password",type:"password",placeholder:"Password",component:G})),r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"cpassword",label:"Confirm Password",type:"password",placeholder:"Confirm Password",component:G})))),r.a.createElement("div",{className:"form--footer"},r.a.createElement("button",{className:"btn btn-submit",type:"submit"},"Create User")))}(O=Object(s.a)({form:"CreateCompanyUser",validate:f,initialValues:{userType:{label:"Company",value:"Company"}}})(O)).propTypes={organizationList:b.a.array.isRequired};var N={createCompanyuser:v.a},j=Object(l.b)((function(e){return{}}),N)(O),S=t(631),C=t(635),A=t(150);function P(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,r,l=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(l.push(n.value),!a||l.length!==a);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==t.return||t.return()}finally{if(c)throw r}}return l}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return k(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function x(){return(x=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function D(e){var a=e.columns,t=e.data,n=Object(S.useTable)({columns:a,data:t}),l=n.getTableProps,o=n.getTableBodyProps,c=n.rows,i=n.prepareRow;return r.a.createElement("table",x({cellSpacing:"0",cellPadding:"0"},l(),{className:"table"}),r.a.createElement("thead",{className:"t-head"},r.a.createElement("tr",{className:"table-row"},r.a.createElement("th",{className:"table-headline"}," Name "),r.a.createElement("th",{className:"table-headline"}," Email   "),r.a.createElement("th",{className:"table-headline"}," Mobile    "),r.a.createElement("th",{className:"table-headline"}," Title    "),r.a.createElement("th",{className:"table-headline"}," Actions   "))),r.a.createElement("tbody",x({className:"t-body"},o()),c.length>0?c.map((function(e,a){return i(e),r.a.createElement("tr",x({className:"table-row",key:a},e.getRowProps()),e.cells.map((function(e,a){return r.a.createElement("td",x({className:"table-data",key:a},e.getCellProps()),e.render("Cell"))})))})):r.a.createElement("div",{className:"empty-state"},r.a.createElement("p",{className:"container"}," No results "))))}var L={deleteCompanyUser:v.d},R=Object(l.b)((function(e){return{}}),L)((function(e){var a=e.items,t=e.deleteCompanyUser,l=e.isLoading,o=P(Object(n.useState)(10),2),c=o[0],i=(o[1],P(Object(n.useState)(0),2)),s=i[0],u=i[1],m=P(Object(n.useState)(1),2),p=m[0],d=m[1],b=P(Object(n.useState)([]),2),f=b[0],y=b[1],h=P(Object(n.useState)(1),2),v=h[0],T=h[1];Object(n.useEffect)((function(){y(a),T(Math.ceil(a.length/c))}),[c,a]);var g=r.a.useMemo((function(){return[{Header:"All organizations",columns:[{Header:"Name",accessor:"fullName",filterable:!0},{Header:"Email",accessor:"email",filterable:!0},{Header:"Mobile",accessor:"mobile",filterable:!0},{Header:"Title",accessor:"title",filterable:!0},{Header:"Actions",accessor:"_id",Cell:function(e){var a=e.cell.value;return r.a.createElement("div",{className:"action--tray"},r.a.createElement("button",{className:"icon__delete",onClick:function(){return t(a)}}," ",r.a.createElement(C.a,null)))},filterable:!0}]}]}),[]),M=r.a.useMemo((function(){return f.slice(s,p*c)}),[c,p,s,f]);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"table-container"},l?r.a.createElement("div",null," ",r.a.createElement(A.a,null)," "):r.a.createElement(D,{columns:g,data:M,deleteCompanyUser:t}),r.a.createElement("div",{className:"page-nav-bar"},r.a.createElement("div",{className:"page__counter"},r.a.createElement("div",{className:"btn-page-label"},p," / ",v),r.a.createElement("button",{className:"btn btn-left",disabled:1===p,onClick:function(){p>=2&&(u(s-c),d(p-1))}}," ",r.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})),r.a.createElement("button",{className:"btn btn-right",disabled:p===v,onClick:function(){p<v&&(u(s+c),d(p+1))}}," ",r.a.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"}))))))}));function z(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,r,l=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(l.push(n.value),!a||l.length!==a);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==t.return||t.return()}finally{if(c)throw r}}return l}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return H(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}var U={getCompanyUsers:v.f,getOrgCompanies:v.g};a.default=Object(l.b)((function(e){return{isLoading:e.company.isLoading,companyList:e.company.companyList?e.company.companyList:[],dataList:e.company?e.company.companyUserLists:[],organization:e.auth.userDetails?e.auth.userDetails.organizationId:""}}),U)((function(e){var a=z(Object(n.useState)(!1),2),t=a[0],l=a[1];Object(n.useEffect)((function(){e.getOrgCompanies(e.organization)}),[]),Object(n.useEffect)((function(){e.getCompanyUsers(e.organization)}),[e.organization]);var i=function(e){l(e)},s=e.dataList,u=e.isLoading;return r.a.createElement(o.a,{headerTitle:"Client Users",isBottom:!0,createBtnLabel:"Create",onClick:function(){return i(!0)}},r.a.createElement(c.a,{title:"Create Client users",modal:t,setModal:function(e){return i(e)}},r.a.createElement(j,{companyList:e.companyList,setModal:l})),r.a.createElement(R,{noItemMessage:"No clients are created yet",items:s,limit:10,isLoading:u}))}))}}]);