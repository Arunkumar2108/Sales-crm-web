(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{492:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return m}));var n=a(56),c=a.n(n),r=a(1),s=a(78),o=a(55),l="https://hichy-api.hnhlabs.technology",i=function(e){return function(t,a){t({type:r.qb}),c.a.get("".concat(l,"/ticket/").concat(e),Object(o.a)(a)).then((function(e){t({type:r.rb,payload:e.data})})).catch((function(e){t({type:r.pb,payload:e}),t(Object(s.b)("An error occured",400,"error"))}))}},u=function(e){return function(t,a){t({type:r.N}),c.a.post("".concat(l,"/ticket"),e,Object(o.a)(a)).then((function(e){t({type:r.O,payload:e.data}),t(Object(s.b)("New Ticket was created",200,"success",2e3,"top-right"))})).catch((function(e){t({type:r.M,payload:e}),t(Object(s.b)(e.response.data.msg,e.response.status,"error"))}))}},p=function(e){return function(t,a){t({type:r.vc}),c.a.get("".concat(l,"/ticket/detail/").concat(e),Object(o.a)(a)).then((function(e){t({type:r.wc,payload:e.data})})).catch((function(e){t({type:r.uc,payload:e}),400!==e.response.status&&401!==e.response.status||t(Object(s.b)(e.response.data.message,e.response.status,"dark",2e3,"top-right"))}))}},d=function(e){return function(e){e({type:r.Qc}),c.a.delete("".concat(l,"/ticket/").concat(ticketId)).then((function(t){e({type:r.Rc,payload:ticketId})})).catch((function(t){e({type:r.Pc,payload:t}),400!==t.response.status&&401!==t.response.status||e(Object(s.b)(t.response.data.message,t.response.status,"dark",2e3,"top-right"))}))}},m=function(e){return function(t,a){t({type:r.Cc}),c.a.put("".concat(l,"/ticket/update-comment/").concat(e.ticketId),e,Object(o.a)(a)).then((function(e){t({type:r.Dc,payload:e.data.comment}),t(Object(s.b)("Comment Added",200,"dark",1e3,"top-right"))})).catch((function(e){t({type:r.Bc,payload:e.response}),t(Object(s.b)("An Error occurred. Try Again",500,"error",1e3,"top-right"))}))}}},493:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"g",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return b}));var n=a(56),c=a.n(n),r=a(1),s=a(78),o=a(55),l="https://hichy-api.hnhlabs.technology",i=function(e){return function(t,a){t({type:r.p}),c.a.post("".concat(l,"/company"),e,Object(o.a)(a)).then((function(e){t({type:r.q,payload:e.data}),t(Object(s.b)("Company created successfully",200,"success"))})).catch((function(e){t({type:r.o,payload:e}),t(Object(s.b)(e.response.data.msg,e.response.status,"error"))}))}},u=function(e){return function(t){t({type:r.s}),c.a.post("".concat(l,"/company/create/companyUser"),e).then((function(e){t({type:r.t,payload:e.data}),t(Object(s.b)("User created successfully",200,"success",2e3,"top-right"))})).catch((function(e){t({type:r.r,payload:e}),400===e.response.status&&t(Object(s.b)(e.response.data.message,e.response.status,"error"))}))}},p=function(){return function(e){e({type:r.Ib}),c.a.get("".concat(l,"/company")).then((function(t){e({type:r.Jb,payload:t.data})})).catch((function(t){e({type:r.Hb,payload:t}),e(Object(s.b)("An error occured",400,"error"))}))}},d=function(e){return function(t,a){t({type:r.Ib}),c.a.get("".concat(l,"/company/orgCompany/").concat(e||"all"),Object(o.a)(a)).then((function(e){t({type:r.Jb,payload:e.data})})).catch((function(e){t({type:r.Hb,payload:e}),t(Object(s.b)("An error occured",400,"error"))}))}},m=function(e){return function(t){t({type:r.Kb}),c.a.get("".concat(l,"/company/list/companyUsers/").concat(e||"all")).then((function(e){t({type:r.Mb,payload:e.data})})).catch((function(e){t({type:r.Lb,payload:e}),400===e.response.status&&t(Object(s.b)(e.response.data.error,e.response.status,"error"))}))}},f=function(e){return function(t){t({type:r.Z}),c.a.delete("".concat(l,"/company/").concat(e)).then((function(a){t({type:r.ab,payload:e})})).catch((function(e){t({type:r.Y,payload:e}),t(Object(s.b)(e.response.data.msg,e.response.status,"error"))}))}},b=function(e){return function(t){t({type:r.cb}),c.a.delete("".concat(l,"/company/user/").concat(e)).then((function(a){t({type:r.db,payload:e})})).catch((function(e){t({type:r.bb,payload:e}),t(Object(s.b)(e.response.data.message,e.response.status,"error"))}))}}},632:function(e,t,a){"use strict";a.d(t,"g",(function(){return i})),a.d(t,"h",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return y}));var n=a(56),c=a.n(n),r=a(1),s=a(78),o=a(55),l="https://hichy-api.hnhlabs.technology",i=function(e){return function(t,a){t({type:r.Ob}),c.a.get("".concat(l,"/contacts/").concat(e||"all"),Object(o.a)(a)).then((function(e){t({type:r.Pb,payload:e.data})})).catch((function(e){t({type:r.Nb,payload:e}),t(Object(s.b)("An error occured",400,"error"))}))}},u=function(e){return function(t,a){t({type:r.Ob}),c.a.get("".concat(l,"/contacts/organization/").concat(e||"all"),Object(o.a)(a)).then((function(e){t({type:r.Pb,payload:e.data})})).catch((function(e){t({type:r.Nb,payload:e}),t(Object(s.b)("An error occured",400,"error"))}))}},p=function(e){return function(t,a){t({type:r.Ob}),c.a.get("".concat(l,"/contacts/organization/").concat(e||"all"),Object(o.a)(a)).then((function(e){t({type:r.Pb,payload:e.data})})).catch((function(e){t({type:r.Nb,payload:e}),t(Object(s.b)("An error occured",400,"error"))}))}},d=function(e){return function(t,a){t({type:r.v}),c.a.post("".concat(l,"/contacts"),e,Object(o.a)(a)).then((function(a){t({type:r.w,payload:a.data,body:e}),t(Object(s.b)("Contact created successfully",200,"success",2e3,"top-right"))})).catch((function(e){t({type:r.u,payload:e}),t(Object(s.b)(e.response.data.message,e.response.status,"error"))}))}},m=function(e){return function(t){t({type:r.g}),c.a.delete("".concat(l,"/contacts/").concat(e)).then((function(a){t({type:r.h,payload:e})})).catch((function(e){t({type:r.f,payload:e}),t(Object(s.b)(e.response.data.msg,e.response.status,"error"))}))}},f=function(e){return function(t){t({type:"ASSIGN_AGENTS_TO_TICKET_BEGIN"}),c.a.put("".concat(l,"/ticket/assign/").concat(e.ticketNo),e).then((function(e){t({type:"ASSIGN_AGENTS_TO_TICKET_SUCCESS"})})).catch((function(e){t({type:"ASSIGN_AGENTS_TO_TICKET_FAILED",payload:e}),t(Object(s.b)(e.response.data.msg,e.response.status,"error"))}))}},b=function(e){return function(t,a){t({type:"CHANGE_TICKET_STATUS_BEGIN"}),c.a.put("".concat(l,"/ticket/changeStatus/").concat(e.ticketNo),e,Object(o.a)(a)).then((function(a){t({type:"CHANGE_TICKET_STATUS_SUCCESS",payload:e}),"Escalated"===e.status?t(Object(s.b)("Ticket Escalated ",200,"success",2e3,"top-right")):t(Object(s.b)("Ticket Updated ",200,"success",2e3,"top-right"))})).catch((function(e){t({type:"CHANGE_TICKET_STATUS_FAILED",payload:e}),t(Object(s.b)(e.response.data.msg,e.response.status,"error"))}))}},y=function(e){return function(t){t({type:"CHANGE_TICKET_PRIORITY_BEGIN"}),c.a.put("".concat(l,"/ticket/changePriority/").concat(e.ticketNo),e).then((function(a){t({type:"CHANGE_TICKET_PRIORITY_SUCCESS",payload:e})})).catch((function(e){t({type:"CHANGE_TICKET_PRIORITY_FAILED",payload:e}),t(Object(s.b)(e.response.data.msg,e.response.status,"error"))}))}}},634:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return p}));var n=a(56),c=a.n(n),r=a(1),s=a(78),o=a(55),l="https://hichy-api.hnhlabs.technology",i=function(){return function(e,t){e({type:r.Fb}),c.a.get("".concat(l,"/tags"),Object(o.a)(t)).then((function(t){e({type:r.Gb,payload:t.data})})).catch((function(t){e({type:r.Eb,payload:t}),e(Object(s.b)("An error occured",400,"error"))}))}},u=function(e){return function(t,a){t({type:r.K}),c.a.post("".concat(l,"/tags"),e,Object(o.a)(a)).then((function(e){t({type:r.L,payload:e.data}),t(Object(s.b)("New Tag was created",200,"success",2e3,"top-right"))})).catch((function(e){t({type:r.J,payload:e}),t(Object(s.b)(e.response.data.msg,e.response.status,"error"))}))}},p=function(e){return function(t){t({type:r.mb}),c.a.delete("".concat(l,"/tags/").concat(e)).then((function(a){t({type:r.nb,payload:e})})).catch((function(e){t({type:r.lb,payload:e}),400!==e.response.status&&401!==e.response.status||t(Object(s.b)(e.response.data.message,e.response.status,"dark",2e3,"top-right"))}))}}},636:function(e,t,a){"use strict";var n=a(2),c=a(7),r=a(8),s=a.n(r),o=a(0),l=a.n(o),i=a(12),u=["bsPrefix","className","noGutters","as"],p=["xl","lg","md","sm","xs"],d=l.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,o=e.noGutters,d=e.as,m=void 0===d?"div":d,f=Object(c.a)(e,u),b=Object(i.a)(a,"row"),y=b+"-cols",j=[];return p.forEach((function(e){var t,a=f[e];delete f[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"==typeof a?a.cols:a)&&j.push(""+y+n+"-"+t)})),l.a.createElement(m,Object(n.a)({ref:t},f,{className:s.a.apply(void 0,[r,b,o&&"no-gutters"].concat(j))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},t.a=d},638:function(e,t,a){"use strict";var n=a(2),c=a(7),r=a(8),s=a.n(r),o=a(0),l=a.n(o),i=a(12),u=["bsPrefix","className","as"],p=["xl","lg","md","sm","xs"],d=l.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,o=e.as,d=void 0===o?"div":o,m=Object(c.a)(e,u),f=Object(i.a)(a,"col"),b=[],y=[];return p.forEach((function(e){var t,a,n,c=m[e];if(delete m[e],"object"==typeof c&&null!=c){var r=c.span;t=void 0===r||r,a=c.offset,n=c.order}else t=c;var s="xs"!==e?"-"+e:"";t&&b.push(!0===t?""+f+s:""+f+s+"-"+t),null!=n&&y.push("order"+s+"-"+n),null!=a&&y.push("offset"+s+"-"+a)})),b.length||b.push(f),l.a.createElement(d,Object(n.a)({},m,{ref:t,className:s.a.apply(void 0,[r].concat(b,y))}))}));d.displayName="Col",t.a=d},639:function(e,t,a){var n={"./af":494,"./af.js":494,"./ar":495,"./ar-dz":496,"./ar-dz.js":496,"./ar-kw":497,"./ar-kw.js":497,"./ar-ly":498,"./ar-ly.js":498,"./ar-ma":499,"./ar-ma.js":499,"./ar-sa":500,"./ar-sa.js":500,"./ar-tn":501,"./ar-tn.js":501,"./ar.js":495,"./az":502,"./az.js":502,"./be":503,"./be.js":503,"./bg":504,"./bg.js":504,"./bm":505,"./bm.js":505,"./bn":506,"./bn-bd":507,"./bn-bd.js":507,"./bn.js":506,"./bo":508,"./bo.js":508,"./br":509,"./br.js":509,"./bs":510,"./bs.js":510,"./ca":511,"./ca.js":511,"./cs":512,"./cs.js":512,"./cv":513,"./cv.js":513,"./cy":514,"./cy.js":514,"./da":515,"./da.js":515,"./de":516,"./de-at":517,"./de-at.js":517,"./de-ch":518,"./de-ch.js":518,"./de.js":516,"./dv":519,"./dv.js":519,"./el":520,"./el.js":520,"./en-au":521,"./en-au.js":521,"./en-ca":522,"./en-ca.js":522,"./en-gb":523,"./en-gb.js":523,"./en-ie":524,"./en-ie.js":524,"./en-il":525,"./en-il.js":525,"./en-in":526,"./en-in.js":526,"./en-nz":527,"./en-nz.js":527,"./en-sg":528,"./en-sg.js":528,"./eo":529,"./eo.js":529,"./es":530,"./es-do":531,"./es-do.js":531,"./es-mx":532,"./es-mx.js":532,"./es-us":533,"./es-us.js":533,"./es.js":530,"./et":534,"./et.js":534,"./eu":535,"./eu.js":535,"./fa":536,"./fa.js":536,"./fi":537,"./fi.js":537,"./fil":538,"./fil.js":538,"./fo":539,"./fo.js":539,"./fr":540,"./fr-ca":541,"./fr-ca.js":541,"./fr-ch":542,"./fr-ch.js":542,"./fr.js":540,"./fy":543,"./fy.js":543,"./ga":544,"./ga.js":544,"./gd":545,"./gd.js":545,"./gl":546,"./gl.js":546,"./gom-deva":547,"./gom-deva.js":547,"./gom-latn":548,"./gom-latn.js":548,"./gu":549,"./gu.js":549,"./he":550,"./he.js":550,"./hi":551,"./hi.js":551,"./hr":552,"./hr.js":552,"./hu":553,"./hu.js":553,"./hy-am":554,"./hy-am.js":554,"./id":555,"./id.js":555,"./is":556,"./is.js":556,"./it":557,"./it-ch":558,"./it-ch.js":558,"./it.js":557,"./ja":559,"./ja.js":559,"./jv":560,"./jv.js":560,"./ka":561,"./ka.js":561,"./kk":562,"./kk.js":562,"./km":563,"./km.js":563,"./kn":564,"./kn.js":564,"./ko":565,"./ko.js":565,"./ku":566,"./ku.js":566,"./ky":567,"./ky.js":567,"./lb":568,"./lb.js":568,"./lo":569,"./lo.js":569,"./lt":570,"./lt.js":570,"./lv":571,"./lv.js":571,"./me":572,"./me.js":572,"./mi":573,"./mi.js":573,"./mk":574,"./mk.js":574,"./ml":575,"./ml.js":575,"./mn":576,"./mn.js":576,"./mr":577,"./mr.js":577,"./ms":578,"./ms-my":579,"./ms-my.js":579,"./ms.js":578,"./mt":580,"./mt.js":580,"./my":581,"./my.js":581,"./nb":582,"./nb.js":582,"./ne":583,"./ne.js":583,"./nl":584,"./nl-be":585,"./nl-be.js":585,"./nl.js":584,"./nn":586,"./nn.js":586,"./oc-lnc":587,"./oc-lnc.js":587,"./pa-in":588,"./pa-in.js":588,"./pl":589,"./pl.js":589,"./pt":590,"./pt-br":591,"./pt-br.js":591,"./pt.js":590,"./ro":592,"./ro.js":592,"./ru":593,"./ru.js":593,"./sd":594,"./sd.js":594,"./se":595,"./se.js":595,"./si":596,"./si.js":596,"./sk":597,"./sk.js":597,"./sl":598,"./sl.js":598,"./sq":599,"./sq.js":599,"./sr":600,"./sr-cyrl":601,"./sr-cyrl.js":601,"./sr.js":600,"./ss":602,"./ss.js":602,"./sv":603,"./sv.js":603,"./sw":604,"./sw.js":604,"./ta":605,"./ta.js":605,"./te":606,"./te.js":606,"./tet":607,"./tet.js":607,"./tg":608,"./tg.js":608,"./th":609,"./th.js":609,"./tk":610,"./tk.js":610,"./tl-ph":611,"./tl-ph.js":611,"./tlh":612,"./tlh.js":612,"./tr":613,"./tr.js":613,"./tzl":614,"./tzl.js":614,"./tzm":615,"./tzm-latn":616,"./tzm-latn.js":616,"./tzm.js":615,"./ug-cn":617,"./ug-cn.js":617,"./uk":618,"./uk.js":618,"./ur":619,"./ur.js":619,"./uz":620,"./uz-latn":621,"./uz-latn.js":621,"./uz.js":620,"./vi":622,"./vi.js":622,"./x-pseudo":623,"./x-pseudo.js":623,"./yo":624,"./yo.js":624,"./zh-cn":625,"./zh-cn.js":625,"./zh-hk":626,"./zh-hk.js":626,"./zh-mo":627,"./zh-mo.js":627,"./zh-tw":628,"./zh-tw.js":628};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=639},641:function(e,t,a){"use strict";t.a=a.p+"images/noOrg.28520ccbd58ae121550b1f94c05d81c6.png"},694:function(e){e.exports=JSON.parse('[{"label":" Question","value":" Question"},{"label":" Incident","value":" Incident"},{"label":" Problem","value":" Problem"},{"label":"Feature Request","value":"Feature Request"},{"label":"Refunds and Returns","value":"Refunds and Returns"},{"label":" Refund","value":" Refund"}]')},703:function(e,t,a){},729:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(41),s=a(149),o=a(726),l=a(725),i=a(636),u=a(638),p=a(629),d=function(e){var t={};return e.subject||(t.subject="Required"),e.tags||(t.tags="Required"),e.type||(t.type="Required"),t},m=function(e){return 0===e.length?[]:e.map((function(e){return{label:e.name,value:e._id}}))},f=a(694),b=a(492);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var E=function(e){var t=e.input,a=e.label,n=e.type,r=e.placeholder,s=e.meta,o=s.touched,l=s.error,i=s.warning;return c.a.createElement("div",null,a,c.a.createElement("input",h({},t,{type:n,placeholder:r,className:"input-field"})),c.a.createElement("div",null,o&&(l&&c.a.createElement("span",{className:"text-danger"},l)||i&&c.a.createElement("span",null,i))))},v=function(e){var t=e.input,a=e.options,n=e.label,r=e.meta,s=r.touched,o=r.error,l=r.warning;return c.a.createElement(c.a.Fragment,null,c.a.createElement("label",null," ",n," "),c.a.createElement(p.a,h({},t,{onChange:function(e){return t.onChange(e)},onBlur:function(){return t.onBlur(t.value)},options:a})),s&&(o&&c.a.createElement("span",{className:"text-danger"},o)||l&&c.a.createElement("span",null,l)))},O=function(e){var t=e.input,a=e.label,n=e.placeholder,r=e.meta,s=r.touched,o=r.error,l=r.warning;return c.a.createElement(c.a.Fragment,null,a,c.a.createElement("textarea",h({},t,{placeholder:n,rows:"10",cols:"40",className:"input-field-area"})),c.a.createElement("div",{className:"alert-danger"},s&&(o&&c.a.createElement("span",null,o)||l&&c.a.createElement("span",null,l))))};function N(e){Object(n.useEffect)((function(){var t=e.initialize,a=e.company;a&&t({company:a})}),[]);var t=e.handleSubmit,a=(e.contactLists,e.companyList,e.tagsList);e.priorityList;return c.a.createElement("form",{onSubmit:t((function(t){return function(t){var a=e.createTicket,n=e.setModal,c=e.agentId;a(j(j({},t),{},{issuedBy:"agent",contact:c,status:"Open",type:t.type.value,tags:t.tags.value})),n(!1)}(t)}))},c.a.createElement("div",{className:"cc-body"},c.a.createElement(i.a,null,c.a.createElement(u.a,null,c.a.createElement(o.a,{name:"subject",type:"text",component:E,label:"Subject",placeholder:"Enter subject here"}))),c.a.createElement(i.a,null,c.a.createElement(u.a,null,c.a.createElement(o.a,{name:"type",component:v,className:"custom-selectbox",label:"Type",options:f}))),c.a.createElement(i.a,null,c.a.createElement(u.a,null)),c.a.createElement(i.a,null,c.a.createElement(u.a,null,c.a.createElement(o.a,{name:"tags",label:"Tags",component:v,className:"custom-selectbox",options:m(a),placeholder:"Enter Tags, Seperated by comma"}))),c.a.createElement(i.a,null,c.a.createElement(u.a,null,c.a.createElement(o.a,{name:"description",label:"Description",component:O,placeholder:"Enter description here"})))),c.a.createElement("div",{className:"cc-footer"},c.a.createElement("div",{className:"btn-row"},c.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Create"))))}N=Object(l.a)({form:"TicketForm",validate:d})(N);var k={createTicket:b.a},T=Object(r.b)((function(e){return{agentId:e.auth.userDetails?e.auth.userDetails.agentId:""}}),k)(N),w=a(491),S=a.n(w),A=a(631),C=a(148),I=a(202),_=Object(I.a)(n.createElement("path",{d:"M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart"),L=a(632),P=a(11),z=a(641),M=a(150);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){H(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,c,r=[],s=!0,o=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){o=!0,c=e}finally{try{s||null==a.return||a.return()}finally{if(o)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function F(e){var t=e.columns,a=e.data,r=e.noItemMessage,s=e.contacts,o=e.changeTicketStatus,l=Object(A.useTable)({columns:t,data:a}),i=l.getTableProps,u=l.getTableBodyProps,d=l.rows,m=l.prepareRow,f=G(Object(n.useState)(),2),b=f[0],y=f[1],j=G(Object(n.useState)({escalateModal:!1,escalateTo:"",ticketStatus:""}),2),g=j[0],h=j[1];return c.a.createElement("div",x({},i(),{className:"table"}),c.a.createElement("div",x({className:"t-body"},u()),c.a.createElement(C.a,{show:g.escalateModal,onHide:function(){return h(R(R({},g),{},{escalateModal:!1}))},size:"sm",centered:!0},c.a.createElement(C.a.Header,null,"Escalte Ticket"),c.a.createElement(C.a.Body,null,c.a.createElement(C.a.Title,null," Select Managers"),c.a.createElement(p.a,{options:s,noOptionsMessage:function(){return"No Managers"},isMulti:!0,onChange:function(e){h(R(R({},g),{},{escalateTo:e}))}})),c.a.createElement(C.a.Footer,null,c.a.createElement("button",{className:"btn btn-success",disabled:!g.escalateTo,onClick:function(){return e={ticketNo:b,escalateTo:g.escalateTo,status:"Escalated"},h(R(R({},g),{},{escalateModal:!1})),y(""),void o(e);var e}}," Escalate "),c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return h(R(R({},g),{},{escalateModal:!1}))}}," Cancel  "))),d.length>0?d.map((function(e,t){var a=e.values;return m(e),c.a.createElement(n.Fragment,{key:t},c.a.createElement("div",{className:"ticket-card"},c.a.createElement("div",{className:"ticket-card-container"},c.a.createElement("div",{className:"t-left"},c.a.createElement("div",{className:"t-left-content"},c.a.createElement("div",{className:"ticket-data"},c.a.createElement("div",{className:"ticket-sub"},a.subject.charAt(0)),c.a.createElement("div",{className:"td-right"},c.a.createElement("div",{className:"ticketno"},a.ticketNo?a.ticketNo:""),c.a.createElement("div",{className:"ticketTitle"},a.subject?a.subject:""))),c.a.createElement("div",{className:"ticket-row"},c.a.createElement("div",{className:"createdOn"},c.a.createElement("div",{className:"icon__holder"},c.a.createElement("i",{className:"fa fa-calendar","aria-hidden":"true"})),a.createdOn?S()(a.createdOn).fromNow():""),c.a.createElement("div",{className:"priority",style:{background:a.priority?a.priority.color:"#fff"}},a.priority?a.priority.name:""),a.escalateTo&&0===a.escalateTo.length&&c.a.createElement("button",{className:"btn-chngst",onClick:function(){h(R(R({},g),{},{escalateModal:!0})),y(a.ticketNo)},title:"Escalte Ticket"}," ",c.a.createElement(_,null),"  ")))),c.a.createElement("div",{className:"t-right"},c.a.createElement("div",{className:"t-right-content"},c.a.createElement("div",{className:"ticket-row"},c.a.createElement("div",{className:"org-name"},a.user?a.user.fullName:""),c.a.createElement("div",{className:"btn-actions"},c.a.createElement("button",{className:"btn btn-view",onClick:function(){P.a.push("/tickets/agent-ticket/view?ticket=".concat(a.ticketNo))}},"View"))),c.a.createElement("div",{className:"ticket-row"},c.a.createElement("div",{className:"t-col"},c.a.createElement("div",{className:"title"},"Status"),c.a.createElement("div",{className:"value"},a.status?a.status:"")),c.a.createElement("div",{className:"t-col"},c.a.createElement("div",{className:"title"},"Assigned To"),c.a.createElement("div",{className:"value"},a.assignedTo&&a.assignedTo.map((function(e,t){return c.a.createElement("span",{key:t},c.a.createElement("span",{className:"name__label",title:e.fullName}," ",e.fullName?e.fullName.charAt(0):"","  "))})))),c.a.createElement("div",{className:"t-col"},c.a.createElement("div",{className:"title"},"Escalated To"),c.a.createElement("div",{className:"value"},a.escalateTo&&a.escalateTo.map((function(e,t){return c.a.createElement("span",{key:t},c.a.createElement("span",{className:"name__label",title:e.fullName}," ",e.fullName?e.fullName.charAt(0):"","  "))}))))))))))})):c.a.createElement("div",{className:"empty-state",colSpan:2},c.a.createElement("img",{className:"empty-avatar",src:z.a,alt:""}),c.a.createElement("div",{className:"empty-text"},r))))}var B={assignAgents:L.b,changeTicketStatus:L.d},K=Object(r.b)((function(e){return{}}),B)((function(e){var t=e.limit,a=G(Object(n.useState)(0),2),r=a[0],s=a[1],o=G(Object(n.useState)(1),2),l=o[0],i=o[1],u=G(Object(n.useState)([]),2),p=u[0],d=u[1],m=G(Object(n.useState)(1),2),f=m[0],b=m[1];Object(n.useEffect)((function(){d(e.items),b(Math.ceil(e.items.length/t))}),[e.items,t]);var y=c.a.useMemo((function(){return[{Header:"Ticket Lists",columns:[{Header:"Subject",accessor:"subject"},{Header:"Type",accessor:"type"},{Header:"Status",accessor:"status"},{Header:"Priority",accessor:"priority"},{Header:"createdOn",accessor:"createdOn"},{Header:"User",accessor:"user"},{Header:"ticketNo",accessor:"ticketNo"},{Header:"assignedTo",accessor:"assignedTo"},{Header:"escalateTo",accessor:"escalateTo"}]}]}),[]),j=c.a.useMemo((function(){return p.slice(r,l*t)}),[t,l,r,p]),g=e.noItemMessage,h=e.contactLists,E=e.assignAgents,v=e.isLoading,O=e.changeTicketStatus,N=h.filter((function(e){return"Manager"===e.type})).map((function(e){return{label:e.fullName,value:e._id}}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,v?c.a.createElement(c.a.Fragment,null," ",c.a.createElement(M.a,null)," "):c.a.createElement(F,{columns:y,data:j,noItemMessage:g,assignAgents:E,contacts:N,changeTicketStatus:O}),c.a.createElement("div",{className:"page-nav-bar"},c.a.createElement("div",{className:"page__counter"},c.a.createElement("div",{className:"btn-page-label"},l," / ",f),c.a.createElement("button",{className:"btn btn-left",disabled:1===l,onClick:function(){l>=2&&(s(r-t),i(l-1))}}," ",c.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})),c.a.createElement("button",{className:"btn btn-right",disabled:l===f,onClick:function(){l<f&&(s(r+t),i(l+1))}}," ",c.a.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"}))))))})),q=a(127),J=a(634),Y=a(493);a(703);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,c,r=[],s=!0,o=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){o=!0,c=e}finally{try{s||null==a.return||a.return()}finally{if(o)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var V={getTickets:b.c,deleteTicket:b.b,getCompanies:Y.e,getAllTags:J.c,getOrgContacts:L.h};t.default=Object(r.b)((function(e){return{isLoading:e.tickets.isLoading,dataList:e.tickets?e.tickets.ticketList:[],tickets:e.tickets,priorityList:e.priority?e.priority.priorityList:[],tagsList:e.tag?e.tag.tagList:[],contactLists:e.contacts?e.contacts.contactList:[],companyList:e.company?e.company.companyList:[],company:{label:e.auth.userDetails?e.auth.userDetails.companyName:"",value:e.auth.userDetails?e.auth.userDetails.companyId:""},organizatationId:e.auth.userDetails?e.auth.userDetails.organizationId:""}}),V)((function(e){var t=Q(Object(n.useState)(!1),2),a=t[0],r=t[1];Object(n.useEffect)((function(){return e.getTickets("agent"),e.getAllTags(),e.getCompanies(),function(){}}),[]),Object(n.useEffect)((function(){e.getOrgContacts(e.organizatationId)}),[e.organizatationId]);var o=function(e){r(e)},l=e.dataList,i=e.tagsList,u=e.priorityList,p=e.contactLists,d=e.companyList,m=e.company,f=e.isLoading;return c.a.createElement(q.a,{headerTitle:"Tickets",isBottom:!0,createBtnLabel:"Create Ticket",onClick:function(){return o(!0)}},c.a.createElement(s.a,{title:"Create Ticket",modal:a,setModal:function(e){return o(e)}},c.a.createElement(T,{tagsList:i,priorityList:u,companyList:d,setModal:function(){return r()},company:m})),c.a.createElement(K,{noItemMessage:"No tickets are created yet",items:l,contactLists:p,limit:10,isLoading:f}))}))}}]);