(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{635:function(e,t,a){"use strict";var n=a(0),r=a(202);t.a=Object(r.a)(n.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},636:function(e,t,a){"use strict";var n=a(2),r=a(7),l=a(8),o=a.n(l),c=a(0),i=a.n(c),s=a(12),u=["bsPrefix","className","noGutters","as"],m=["xl","lg","md","sm","xs"],d=i.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,c=e.noGutters,d=e.as,f=void 0===d?"div":d,p=Object(r.a)(e,u),b=Object(s.a)(a,"row"),y=b+"-cols",g=[];return m.forEach((function(e){var t,a=p[e];delete p[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"==typeof a?a.cols:a)&&g.push(""+y+n+"-"+t)})),i.a.createElement(f,Object(n.a)({ref:t},p,{className:o.a.apply(void 0,[l,b,c&&"no-gutters"].concat(g))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},t.a=d},638:function(e,t,a){"use strict";var n=a(2),r=a(7),l=a(8),o=a.n(l),c=a(0),i=a.n(c),s=a(12),u=["bsPrefix","className","as"],m=["xl","lg","md","sm","xs"],d=i.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,c=e.as,d=void 0===c?"div":c,f=Object(r.a)(e,u),p=Object(s.a)(a,"col"),b=[],y=[];return m.forEach((function(e){var t,a,n,r=f[e];if(delete f[e],"object"==typeof r&&null!=r){var l=r.span;t=void 0===l||l,a=r.offset,n=r.order}else t=r;var o="xs"!==e?"-"+e:"";t&&b.push(!0===t?""+p+o:""+p+o+"-"+t),null!=n&&y.push("order"+o+"-"+n),null!=a&&y.push("offset"+o+"-"+a)})),b.length||b.push(p),i.a.createElement(d,Object(n.a)({},f,{ref:t,className:o.a.apply(void 0,[l].concat(b,y))}))}));d.displayName="Col",t.a=d},640:function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return p}));var n=a(56),r=a.n(n),l=a(1),o=a(78),c=a(55),i="https://hichy-api.hnhlabs.technology",s=function(){return function(e,t){e({type:l.Ic}),r.a.get("".concat(i,"/organization"),Object(c.a)(t)).then((function(t){e({type:l.Jc,payload:t.data})})).catch((function(t){e({type:l.Hc,payload:t}),400!==t.response.status&&401!==t.response.status||e(Object(o.b)(t.response.data.message,t.response.status,"dark",2e3,"top-right"))}))}},u=function(e){return function(t,a){t({type:l.Fc}),r.a.post("".concat(i,"/organization"),e,Object(c.a)(a)).then((function(e){t({type:l.Gc,payload:e.data}),t(Object(o.b)("Organization Created",200,"success"))})).catch((function(e){t({type:l.Ec,payload:e}),400!==e.response.status&&401!==e.response.status||t(Object(o.b)(e.response.data.message,e.response.status,"dark",2e3,"top-right"))}))}},m=function(e){return function(t,a){t({type:l.B}),r.a.post("".concat(i,"/organization/user"),e,Object(c.a)(a)).then((function(e){t({type:l.C,payload:e.data}),t(Object(o.b)("Organization User Created",200,"success"))})).catch((function(e){t({type:l.A,payload:e}),t(Object(o.b)(e.response.data.message,e.response.status,"error"))}))}},d=function(){return function(e,t){e({type:l.Ub}),r.a.get("".concat(i,"/organization/users"),Object(c.a)(t)).then((function(t){e({type:l.Vb,payload:t.data})})).catch((function(t){e({type:l.Tb,payload:t}),e(Object(o.b)(t.response.data.error,t.response.status,"error"))}))}},f=function(e){return function(e,t){}},p=function(e){return function(e,t){}}},738:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(41),o=a(127),c=(a(96),a(149)),i=a(726),s=a(725),u=a(636),m=a(638),d=function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.organizationName&&""!==e.organizationName.trim()||(t.organizationName="Required"),e.organizationType&&""!==e.organizationType.trim()||(t.organizationType="Required"),e.mobile&&""!==e.mobile.trim()||(t.mobile="Required"),e.country&&""!==e.country.trim()||(t.country="Required"),e.address&&""!==e.address.trim()||(t.address="Required"),t},f=a(640);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e){var t=function(e){var t=e.input,a=e.label,n=e.type,l=e.placeholder,o=e.meta,c=o.touched,i=o.error,s=o.warning;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},a),r.a.createElement("div",{className:"input-holder"},r.a.createElement("input",p({className:"input-field"},t,{placeholder:l,type:n})),c&&(i&&r.a.createElement("span",{className:"text-danger"},i)||s&&r.a.createElement("span",{className:"text-warning"},s))))},a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a((function(t){var a=e.addOrganization,n=e.handleModal;a(t),n(!1)}))},r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"organizationName",label:"Organization Name",type:"text",placeholder:"Organization Name",component:t})),r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"organizationCode",label:"Organization Code",type:"text",placeholder:"Organization Code",component:t}))),r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"organizationType",label:"Organization Type",type:"text",placeholder:"Organization Type",component:t})),r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"email",label:"Email",type:"text",placeholder:"Email",component:t}))),r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"mobile",label:"Mobile",type:"text",placeholder:"Mobile",component:t})),r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"phone",label:"Phone",type:"text",placeholder:"Phone",component:t}))),r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"fax",label:"fax",type:"text",placeholder:"Fax",component:t})),r.a.createElement(m.a,null,r.a.createElement(i.a,{name:"country",label:"Country",type:"text",placeholder:"Country",component:t}))),r.a.createElement(i.a,{name:"address",label:"Address",component:function(e){var t=e.input,a=e.label,l=e.meta,o=l.touched,c=l.error,i=l.warning;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-label"},a),r.a.createElement("textarea",p({},t,{className:"input-field-area",placeholder:"Type your notes here",rows:"5",cols:"40"})),o&&(c&&r.a.createElement("span",{className:"text-danger"},c)||i&&r.a.createElement("span",{className:"text-warning"},i))))}}),r.a.createElement("div",{className:"form--footer"},r.a.createElement("div",{className:"btn-row"},r.a.createElement("button",{className:"btn btn-create",type:"submit"},"Create Organization"))))}b=Object(s.a)({form:"CreateOrganizationForm",validate:d})(b);var y={addOrganization:f.a},g=Object(l.b)((function(e){return{}}),y)(b),h=a(631),E=a(635);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function z(e){var t=e.columns,a=e.data,n=(e.deleteAnOrganization,Object(h.useTable)({columns:t,data:a})),l=n.getTableProps,o=n.getTableBodyProps,c=n.rows,i=n.prepareRow;return r.a.createElement("table",N({cellSpacing:"0",cellPadding:"0"},l(),{className:"table"}),r.a.createElement("thead",{className:"t-head"},r.a.createElement("tr",{className:"table-row"},r.a.createElement("th",{className:"table-headline"}," Name "),r.a.createElement("th",{className:"table-headline"}," Code  "),r.a.createElement("th",{className:"table-headline"}," Type   "),r.a.createElement("th",{className:"table-headline"}," Email   "),r.a.createElement("th",{className:"table-headline"}," Phone    "),r.a.createElement("th",{className:"table-headline"}," Actions   "))),r.a.createElement("tbody",N({className:"t-body"},o()),c.length>0?c.map((function(e,t){return i(e),r.a.createElement("tr",N({className:"table-row",key:t},e.getRowProps()),e.cells.map((function(e,t){return r.a.createElement("td",N({className:"table-data",key:t},e.getCellProps()),e.render("Cell"))})))})):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"container"}," No results "))))}var j={deleteAnOrganization:f.c},w=Object(l.b)((function(e){return{}}),j)((function(e){var t=e.items,a=e.deleteAnOrganization,l=v(Object(n.useState)(10),2),o=l[0],c=(l[1],v(Object(n.useState)(0),2)),i=c[0],s=c[1],u=v(Object(n.useState)(1),2),m=u[0],d=u[1],f=v(Object(n.useState)([]),2),p=f[0],b=f[1],y=v(Object(n.useState)(1),2),g=y[0],h=y[1];Object(n.useEffect)((function(){b(t),h(Math.ceil(t.length/o))}),[o,t]);var O=r.a.useMemo((function(){return[{Header:"All organizations",columns:[{Header:"Name",accessor:"organizationName",filterable:!0},{Header:"Code",accessor:"organizationCode",filterable:!0},{Header:"Type",accessor:"organizationType",filterable:!0,Cell:function(e){var t=e.cell.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"badge badge-primary"},t))}},{Header:"Email",accessor:"email",filterable:!0},{Header:"Phone",accessor:"phone",filterable:!0},{Header:"Actions",accessor:"_id",Cell:function(e){var t=e.cell.value;return r.a.createElement("div",{className:"action--tray"},r.a.createElement("button",{className:"icon__delete",onClick:function(){return a(t)}}," ",r.a.createElement(E.a,null)))},filterable:!0}]}]}),[]),N=r.a.useMemo((function(){return p.slice(i,m*o)}),[o,m,i,p]);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"table-container"},r.a.createElement(z,{columns:O,data:N,deleteAnOrganization:a}),r.a.createElement("div",{className:"page-nav-bar"},r.a.createElement("div",{className:"page__counter"},r.a.createElement("div",{className:"btn-page-label"},m," of ",g),r.a.createElement("button",{disabled:1===m,onClick:function(){m>=2&&(s(i-o),d(m-1))},className:"btn btn-left"},r.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"})),r.a.createElement("button",{disabled:m===g,onClick:function(){m<g&&(s(i+o),d(m+1))},className:"btn btn-right"},r.a.createElement("i",{className:"fa fa-arrow-right","aria-hidden":"true"}))))))}));function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var A={getOrganizations:f.f,deleteAnOrganization:f.c};t.default=Object(l.b)((function(e){return{dataList:e.organizations?e.organizations.organizationList:[]}}),A)((function(e){var t=x(Object(n.useState)(!1),2),a=t[0],l=t[1];Object(n.useEffect)((function(){return e.getOrganizations(),function(){}}),[]);var i=function(e){l(e)},s=e.dataList;return r.a.createElement(o.a,{headerTitle:"Organization",isBottom:!0,createBtnLabel:"Create",onClick:function(){return i(!0)}},r.a.createElement(c.a,{title:"Create Organization",modal:a,setModal:function(e){return i(e)}},r.a.createElement(g,{handleModal:i})),r.a.createElement(w,{noItemMessage:"No organizations are created yet",items:s,limit:10}))}))}}]);